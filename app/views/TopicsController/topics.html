#{extends 'main.html' /}
#{set title:'Topics' /}

<div class="page-header">
    <h1>Streams/Topics</h1>
</div>

<div class="alert alert-block">
  	<button type="button" class="close" data-dismiss="alert">&times;</button>
	<h4>Info!</h4>
	Streams/Topics defined in the Metadata service
</div>

#{if topics}
	<table class="table table-striped">
        <thead>
          <tr>
          	<th>#</th>
            <th>Name</th>
            <th>Namespace</th>
            <th>Prefix</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        %{int i = 0}%
        #{list topics, as : 't'}
          <tr>
          <td align="left">${i++}</td>
            <td><b>${t.name}</b></td>
            <td><a href="${t.ns}" target="_blank">${t.ns}</a></td>
            <td>${t.prefix}</td>
            <td><a href="@{TopicsController.topic(t.name, t.ns, t.prefix)}" class="btn">Details</a>&nbsp;<a href="@{SubscriptionsController.createFrom(t.name, t.ns, t.prefix)}" class="btn">Subscribe</a>&nbsp;<a href="@{SubscriptionsController.getSubscribersForTopic(t.name, t.ns, t.prefix)}" class="btn">Subscribers</a></td>
          </tr>
        #{/list}
        </tbody>
      </table>
#{/if}
#{else}
	<h3>No topics</h3>
#{/else}